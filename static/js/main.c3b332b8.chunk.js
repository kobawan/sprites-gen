(window["webpackJsonpsprites-gen"]=window["webpackJsonpsprites-gen"]||[]).push([[0],{1:function(e,t,a){e.exports={wrapper:"imageGenerator_wrapper__2tPb5",form:"imageGenerator_form__3sxNv",title:"imageGenerator_title__23EN1",content:"imageGenerator_content__23stf",row:"imageGenerator_row__34Ura",fileName:"imageGenerator_fileName__c4_Nq",dropzone:"imageGenerator_dropzone__V9EFo",label:"imageGenerator_label__2Jaxb",input:"imageGenerator_input__2WH26",checkbox:"imageGenerator_checkbox__30TQ5",footer:"imageGenerator_footer__35QiS",downloadButton:"imageGenerator_downloadButton__sin8v",error:"imageGenerator_error__3rkcQ"}},10:function(e,t,a){e.exports=a(18)},15:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),c=a.n(o),i=(a(15),a(3)),l=a(7),s=a(9),u=a(4),m=a.n(u),f=a(1),g=a.n(f),h=function(e){return Promise.all(e.map(function(e){return function(e){return new Promise(function(t){var a=new Image;a.src=e,a.onload=function(){return t(a)},a.onerror=function(){return t()}})}(e)})).then(function(e){return e.filter(Boolean)})};function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var b=function(e){for(var t=e.sizeHeight,a=e.sizeWidth,n=e.cols,r=e.rows,o={dw:a,dh:t,sw:a,sh:t},c=[],i=0;i<r;i++)for(var l=0;l<n;l++)c.push(d({},o,{sx:l*a,sy:i*t}));return c};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(function(){var e=Object(n.useRef)(null),t=Object(n.useState)(0),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(0),u=Object(i.a)(l,2),f=u[0],p=u[1],w=Object(n.useState)([]),v=Object(i.a)(w,2),_=v[0],E=v[1],O=Object(n.useState)(!1),j=Object(i.a)(O,2),N=j[0],y=j[1],k=Object(n.useState)(1),P=Object(i.a)(k,2),x=P[0],C=P[1],G=Object(n.useState)(1),W=Object(i.a)(G,2),z=W[0],S=W[1],D=Object(n.useState)(""),H=Object(i.a)(D,2),R=H[0],M=H[1],B=Object(s.a)({onDrop:Object(n.useCallback)(function(e){return E(e)},[]),accept:"image/png, image/jpeg"}),I=B.getRootProps,T=B.getInputProps,F=_.map(function(e,t){return r.a.createElement("span",{key:t,className:m()(g.a.row,g.a.fileName),onClick:function(){return t=e.name,void E(_.filter(function(e){return e.name!==t}));var t}},e.name)});Object(n.useEffect)(function(){if(o&&f&&e.current){var t,a=e.current.getContext("2d");if(a&&a.clearRect(0,0,o,f),_.length)if(x>30||z>30||(x||1)*(z||1)>400)M("Image has too many chunks to split. Please lower column or row value");else(t=_,Promise.all(t.map(function(e){return new Promise(function(t){var a=new FileReader;a.onload=function(){return t(a.result)},a.onerror=function(){return t("")},a.readAsDataURL(e)})}))).then(function(e){return e.filter(Boolean)}).then(function(e){return h(e)}).then(function(t){if(t.length&&e.current){var a=e.current.getContext("2d");if(a){var n=N?Math.floor(t[0].naturalWidth/x):t[0].naturalWidth,r=N?Math.floor(t[0].naturalHeight/z):t[0].naturalHeight;window.requestAnimationFrame(function(){a.clearRect(0,0,o,f),function(e){for(var t=e.resWidth,a=e.resHeight,n=e.sizeWidth,r=e.sizeHeight,o=e.imageChunks,c=e.imgs,i=Math.ceil(t/n),l=Math.ceil(a/r),s=[],u=0;u<i;u++)for(var m=0;m<l;m++){var f=1===o.length?0:Math.floor(Math.random()*o.length),g=1===c.length?0:Math.floor(Math.random()*c.length);s.push(d({img:c[g],dx:u*n,dy:m*r},o[f]))}return s}({resHeight:f,resWidth:o,sizeWidth:n,sizeHeight:r,imageChunks:b({sizeWidth:n,sizeHeight:r,cols:x,rows:z}),imgs:t}).forEach(function(e){var t=e.img,n=e.sx,r=e.sy,o=e.sw,c=e.sh,i=e.dx,l=e.dy,s=e.dw,u=e.dh;a.drawImage(t,n,r,o,c,i,l,s,u)})})}}})}},[o,f,_,x,z,N,e]);return r.a.createElement("div",{className:g.a.wrapper},!!o&&!!f&&r.a.createElement("canvas",{ref:e,width:o,height:f}),r.a.createElement("form",{className:g.a.form,onChange:function(){return M("")}},r.a.createElement("h3",{className:g.a.title},"Image generator"),r.a.createElement("div",{className:g.a.content},r.a.createElement("div",{className:g.a.row},r.a.createElement("label",{className:g.a.label},"Resolution Width"),r.a.createElement("input",{className:g.a.input,type:"number",onChange:function(e){return c(+e.currentTarget.value)},min:1})),r.a.createElement("div",{className:g.a.row},r.a.createElement("label",{className:g.a.label},"Resolution Height"),r.a.createElement("input",{className:g.a.input,type:"number",onChange:function(e){return p(+e.currentTarget.value)},min:1})),r.a.createElement("div",Object.assign({},I(),{className:m()(g.a.row,g.a.dropzone)}),r.a.createElement("input",T()),r.a.createElement("span",null,"Drag 'n' drop some files here, or click to select files")),F,r.a.createElement("div",{className:g.a.row},r.a.createElement("label",{className:g.a.label},"Split sprites:"),r.a.createElement("input",{className:m()(g.a.input,g.a.checkbox),type:"checkbox",onChange:function(){N&&(C(1),S(1)),y(!N)}})),N&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:g.a.row},r.a.createElement("label",{className:g.a.label},"Columns"),r.a.createElement("input",{className:g.a.input,type:"number",onChange:function(e){return C(+e.currentTarget.value)},min:1})),r.a.createElement("div",{className:g.a.row},r.a.createElement("label",{className:g.a.label},"Rows"),r.a.createElement("input",{className:g.a.input,type:"number",onChange:function(e){return S(+e.currentTarget.value)},min:1})))),r.a.createElement("div",{className:g.a.footer},r.a.createElement("button",{onClick:function(t){if(t.preventDefault(),e.current){var a=e.current.toDataURL("image/png"),n=document.createElement("a");n.href=a,n.download="".concat(o,"x").concat(f,"-generated.png"),n.click()}},disabled:!o||!f||!_.length||!!R,className:g.a.downloadButton},"Download"),R&&r.a.createElement("span",{className:g.a.error},R))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.c3b332b8.chunk.js.map